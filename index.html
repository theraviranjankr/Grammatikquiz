<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>German Grammar Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: #333;
            margin: 0;
            padding: 0;
        }

        header, footer {
            background-color: #0056b3;
            color: white;
            text-align: center;
            padding: 15px 0;
            position: relative;
        }

        header img, footer img {
            width: 100px;  /* Increased logo size */
            height: 100px; /* Increased logo size */
            vertical-align: middle;
        }

        header h1, footer p {
            display: inline-block;
            margin: 0;
            padding: 0 10px;
        }

        /* Center the content on larger screens */
        main {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
        }

        h2, button {
            font-size: 24px;  /* Increased font size */
            font-weight: bold; /* Make text bold */
            text-align: center; /* Centered text */
        }

        input[type="text"], button {
            display: block;
            margin: 20px auto;
            padding: 10px;
            width: 250px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        button {
            background-color: #ff9800;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background-color: #e68900;
        }

        .question-box, .explanation-box {
            padding: 15px;
            border: 2px solid #c0c0c0;
            border-radius: 5px;
            margin: 10px 0;
        }

        .saffron {
            background-color: #ff9933;
        }

        .white {
            background-color: #ffffff;
        }

        .green {
            background-color: #138808;
        }

        #quiz-container, #results-container {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            margin: 20px auto;
            max-width: 800px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .results-table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
            table-layout: auto;
        }

        .results-table th, .results-table td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
            vertical-align: top;
        }

        .star-rating {
            font-size: 24px;
            color: #ffcc00;
        }

        /* Responsive centering for input and buttons */
        @media screen and (min-width: 768px) {
            input[type="text"], button {
                width: 300px;
            }
        }

        .telegram-button {
            background-color: #0088cc;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            text-align: center;
        }

        .telegram-button:hover {
            background-color: #007bb5;
        }

        /* Footer Layout */
        footer {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 0; /* Added padding to the footer */
}

footer p {
    margin: 20px 0; /* Increased margin for better spacing */
}


        /* Centering for smaller devices */
        @media (max-width: 600px) {
            h2, button {
                font-size: 20px; /* Smaller font for mobile */
            }
        }

    </style>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HNSP6Z8S2F"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HNSP6Z8S2F');
</script>
</head>
<body>

<header>
    <img src="photo_2022-05-07_08-26-16.jpg.jpg" alt="Logo">
    <h1>GERMAN NOTES FOR A1 TO B2</h1>
    <p>BY RAVIRANJAN KUMAR</p>
</header>

<main id="main-content">
    <!-- Start Screen -->
    <div id="start-screen">
        <h2>Willkommen! Bitte geben Sie Ihren Namen ein:</h2>
        <input type="text" id="studentName" placeholder="Ihr Name">
        <button onclick="startQuiz()">Test starten</button>
    </div>

    <!-- Quiz Container -->
    <div id="quiz-container" style="display: none;">
        <h2 id="timer">Zeit: <span id="time">15:00</span></h2>
        <div id="questions"></div>
        <button onclick="submitQuiz()">Test einreichen</button>
    </div>

    <!-- Results Container -->
<div id="results-container" style="display: none;">
    <h2>Ergebnisse</h2>
    <div id="results"></div>
    <div id="explanations"></div>
    <button onclick="restartQuiz()">Neuen Test starten</button>
    <button onclick="saveQuiz()">Quiz speichern</button>
    <div id="past-quizzes"></div> <!-- Section for displaying past quizzes -->
</div>

</main>

<footer>
    <img src="photo_2022-05-07_08-26-16.jpg.jpg" alt="Logo">
    <p>
        <a href="https://t.me/theraviranjankr1" target="_blank" class="telegram-button">Join my Telegram Channel</a>
    </p>
    <p>© 2024 GERMAN NOTES FOR A1 TO B2</p>
</footer>

<script>
    let totalQuestions = 30; // Set to 30 questions
    let correctAnswers = 0;

    let questions = [
        {
            question: "Wähle die richtige Konjunktion: Ich gehe ins Kino, ___ es regnet.",
            options: ["wenn", "obwohl", "weil", "damit"],
            answer: "obwohl",
            explanation: "Obwohl is used to express a contrast, meaning 'although'."
        },
        {
            question: "Welches ist der richtige Artikel? Ich brauche ___ Buch für den Unterricht.",
            options: ["der", "das", "die", "den"],
            answer: "das",
            explanation: "The correct article for 'Buch' (neuter noun) is 'das'."
        },
        {
            question: "Setze das richtige Verb ein: Wir ___ seit drei Stunden auf den Bus.",
            options: ["warten", "wartet", "warteten", "gewartet"],
            answer: "warten",
            explanation: "'Wir' is first-person plural, so the verb 'warten' stays in the plural form."
        },
        {
            question: "Was ist die korrekte Pluralform von „Auto“?",
            options: ["Autos", "Autoen", "Auton", "Aute"],
            answer: "Autos",
            explanation: "The plural of 'Auto' is 'Autos'."
        },
        {
            question: "Wähle das richtige Modalverb: Peter ___ sein Zimmer aufräumen, bevor er spielen darf.",
            options: ["muss", "will", "soll", "darf"],
            answer: "muss",
            explanation: "'Muss' expresses obligation, meaning 'must'."
        },
        {
            question: "Welcher Satz ist im Futur I korrekt?",
            options: ["Ich werde nach Hause gehen.", "Ich gehte nach Hause.", "Ich warte nach Hause.", "Ich habe nach Hause gegangen."],
            answer: "Ich werde nach Hause gehen.",
            explanation: "Futur I is constructed with 'werden' and the infinitive verb."
        },
        {
            question: "Welches Pronomen passt? Das ist das Haus, in ___ wir wohnen.",
            options: ["dem", "der", "denen", "das"],
            answer: "dem",
            explanation: "'Dem' is the correct relative pronoun in dative case referring to 'Haus'."
        },
        {
            question: "Welches Adjektiv ist richtig dekliniert? Ich habe einen ___ Apfel gekauft.",
            options: ["roten", "roter", "rot", "rotes"],
            answer: "roten",
            explanation: "For masculine accusative nouns, the adjective takes the '-en' ending."
        },
        {
            question: "Wähle die richtige Präposition: Ich warte ___ meinen Freund vor dem Kino.",
            options: ["auf", "für", "an", "über"],
            answer: "auf",
            explanation: "'Warten auf' means 'to wait for'."
        },
        {
            question: "Welches ist das korrekte Perfekt? Wir ___ den ganzen Tag gearbeitet.",
            options: ["haben", "sind", "hatten", "waren"],
            answer: "haben",
            explanation: "In the perfect tense, 'haben' is used with most verbs."
        },
        {
            question: "Welche Präposition erfordert den Akkusativ?",
            options: ["durch", "mit", "bei", "seit"],
            answer: "durch",
            explanation: "'Durch' is a preposition that requires the accusative case."
        },
        {
            question: "Welches ist der korrekte Genitivsatz? Das ist das Auto ___ Bruders.",
            options: ["meines", "meines", "meinem", "meiner"],
            answer: "meines",
            explanation: "The genitive form is 'meines Bruders' for 'my brother's car'."
        },
        {
            question: "Welcher Satz ist im Passiv? ",
            options: ["Die Kinder essen das Eis.", "Das Eis wird von den Kindern gegessen.", "Die Kinder werden das Eis essen.", "Das Eis gegessen werden."],
            answer: "Das Eis wird von den Kindern gegessen.",
            explanation: "The passive voice describes what happens to the ice cream."
        },
        {
            question: "Wähle die richtige Zeitform: Er sagte, dass er gestern ___ .",
            options: ["gegangen ist", "geht", "gegangen war", "gegangen hätte"],
            answer: "gegangen war",
            explanation: "For reported speech, we use the plusquamperfekt."
        },
        {
            question: "Welches Wort ist ein Synonym für „beginnen“?",
            options: ["anfangen", "aufhören", "beenden", "verlassen"],
            answer: "anfangen",
            explanation: "'Anfangen' is a synonym for 'beginnen'."
        },
        {
            question: "Welches Verb erfordert den Dativ? Das Buch ___ mir sehr gut.",
            options: ["gefällt", "gehört", "liegt", "sieht"],
            answer: "gefällt",
            explanation: "'Gefallen' takes the dative case."
        },
        {
            question: "Welcher Satz ist korrekt?",
            options: ["Ich bin nach Deutschland gegangen.", "Ich war nach Deutschland gegangen.", "Ich habe nach Deutschland gehen.", "Ich werde nach Deutschland gehen sein."],
            answer: "Ich bin nach Deutschland gegangen.",
            explanation: "This is the correct sentence in the perfect tense."
        },
        {
            question: "Wähle das richtige Relativpronomen: Der Mann, ___ Auto kaputt ist, wartet hier.",
            options: ["dessen", "der", "dessen", "den"],
            answer: "dessen",
            explanation: "'Dessen' is used in the genitive to indicate possession."
        },
        {
            question: "Welche Adjektivendung ist korrekt? Das ist ein ___ Auto.",
            options: ["schönes", "schönen", "schöner", "schöne"],
            answer: "schönes",
            explanation: "For neuter nouns, the correct adjective ending is '-es'."
        },
        {
            question: "Welches ist das richtige Verb im Plusquamperfekt? Bevor sie ankam, ___ ich das Essen schon gekocht.",
            options: ["hatte", "habe", "war", "wäre"],
            answer: "hatte",
            explanation: "The plusquamperfekt is constructed with 'hatte' plus the past participle."
        },
        {
            question: "Welche Präposition wird mit Genitiv verwendet?",
            options: ["trotz", "bei", "mit", "in"],
            answer: "trotz",
            explanation: "'Trotz' is a preposition that requires the genitive case."
        },
        {
            question: "Wähle das richtige Reflexivpronomen: Er hat ___ die Hände gewaschen.",
            options: ["sich", "ihn", "ihn", "sein"],
            answer: "sich",
            explanation: "Reflexive verbs use the pronoun 'sich' in the third person."
        },
        {
            question: "Welches Wort passt in die Lücke? Wir wohnen in einer ___ Stadt.",
            options: ["kleinen", "kleiner", "kleine", "kleinem"],
            answer: "kleinen",
            explanation: "Adjectives before feminine singular nouns in the dative take the '-en' ending."
        },
        {
            question: "Welche Wortstellung ist korrekt? Heute ___ wir ins Kino gehen.",
            options: ["werden", "werden wir", "gehen wir", "wir werden"],
            answer: "gehen wir",
            explanation: "In German, the verb comes second in the sentence structure."
        },
        {
            question: "Welches ist die korrekte Form von „mögen“ im Konjunktiv II?",
            options: ["möchte", "möchtet", "würde mögen", "mögen"],
            answer: "möchte",
            explanation: "'Möchte' is the Konjunktiv II form of 'mögen'."
        },
        {
            question: "Wähle die richtige Verbform: Sie ___ schon seit einer Stunde auf den Bus.",
            options: ["wartet", "warten", "hat gewartet", "hat warten"],
            answer: "wartet",
            explanation: "'Sie' requires the third-person singular form 'wartet'."
        },
        {
            question: "Welches Wort passt in die Lücke? Er spricht ___ gut Deutsch.",
            options: ["ziemlich", "recht", "sehr", "alle"],
            answer: "sehr",
            explanation: "'Sehr' means 'very' and is used for emphasis."
        },
        {
            question: "Welcher Satz verwendet den Konjunktiv II korrekt?",
            options: ["Wenn ich Zeit hätte, würde ich kommen.", "Wenn ich Zeit habe, würde ich kommen.", "Wenn ich Zeit hätte, komme ich.", "Wenn ich Zeit hatte, wäre ich gekommen."],
            answer: "Wenn ich Zeit hätte, würde ich kommen.",
            explanation: "The correct form for expressing hypothetical situations."
        },
        {
            question: "Welches ist das richtige Partizip II von „schreiben“?",
            options: ["geschrieben", "schrieb", "schreibend", "schreibte"],
            answer: "geschrieben",
            explanation: "'Geschrieben' is the correct past participle of 'schreiben'".
        },
        {
            question: "Wähle das richtige Wort: Wir sind ___ den Park gegangen.",
            options: ["durch", "über", "zu", "in"],
            answer: "durch",
            explanation: "'Durch' means 'through' and is used to indicate movement through an area."
        },
        {
            question: "Welche Form ist korrekt? Ich habe die Aufgabe ___ .",
            options: ["fertig gemacht", "fertigmachen", "fertigmacht", "fertig gemacht habe"],
            answer: "fertig gemacht",
            explanation: "The perfect form requires the past participle 'fertig gemacht'."
        },
        {
            question: "Welches Wort passt nicht in die Reihe? Hund, Katze, ___ , Vogel.",
            options: ["Fisch", "Eichhörnchen", "Maus", "Baum"],
            answer: "Baum",
            explanation: "'Baum' is not an animal; it is a tree."
        },
        {
            question: "Wähle die richtige Form: Wenn ich mehr Zeit ___ , würde ich mehr lesen.",
            options: ["hätte", "habe", "hatte", "hätte gehabt"],
            answer: "hätte",
            explanation: "The correct form in the Konjunktiv II for hypothetical situations is 'hätte'."
        },
        {
            question: "Was ist die korrekte Übersetzung von „I have eaten“?",
            options: ["Ich esse", "Ich aß", "Ich habe gegessen", "Ich essen habe"],
            answer: "Ich habe gegessen",
            explanation: "The correct perfect tense translation is 'Ich habe gegessen'."
        },
        {
            question: "Welches Wort ist kein Adverb?",
            options: ["schnell", "oft", "schön", "laufen"],
            answer: "laufen",
            explanation: "'Laufen' is a verb, while the others are adverbs."
        },
        {
            question: "Wähle die richtige Präposition: Ich bin ___ der Schule.",
            options: ["in", "zu", "an", "auf"],
            answer: "in",
            explanation: "'In der Schule' means 'in the school'."
        },
        {
            question: "Welches Verb ist nicht reflexiv?",
            options: ["sich erinnern", "sich freuen", "sich setzen", "laufen"],
            answer: "laufen",
            explanation: "'Laufen' is a non-reflexive verb."
        },
        {
            question: "Was ist die richtige Pluralform von „Kind“?",
            options: ["Kinde", "Kinder", "Kinds", "Kindern"],
            answer: "Kinder",
            explanation: "The plural of 'Kind' is 'Kinder'."
        },
        {
            question: "Setze das richtige Verb ein: Sie ___ gerne ins Theater.",
            options: ["geht", "gehst", "gehe", "gehen"],
            answer: "geht",
            explanation: "'Sie' requires the third-person singular form 'geht'."
        },
        {
            question: "Welches ist die korrekte Form für den Superlativ? Das ist das ___ Buch in der Bibliothek.",
            options: ["interessanteste", "interessantes", "interessant", "interessanter"],
            answer: "interessanteste",
            explanation: "The superlative form of 'interessant' is 'interessanteste'."
        },
        {
            question: "Wähle das richtige Wort: Er hat das Problem ___ gelöst.",
            options: ["gut", "schlecht", "schnell", "langsam"],
            answer: "gut",
            explanation: "'Gut' is used to indicate the quality of solving the problem."
        },
        {
            question: "Welche Präposition verlangt den Akkusativ? Ich freue mich ___ deinen Besuch.",
            options: ["auf", "über", "an", "mit"],
            answer: "auf",
            explanation: "'Freuen auf' means 'to look forward to'."
        },
        {
            question: "Was ist die richtige Übersetzung von „She is reading a book“?",
            options: ["Sie liest ein Buch", "Sie hat ein Buch gelesen", "Sie wird ein Buch lesen", "Sie lese ein Buch"],
            answer: "Sie liest ein Buch",
            explanation: "The present tense translation is 'Sie liest ein Buch'."
        },
        {
            question: "Welches Wort ist ein Antonym von „warm“?",
            options: ["kalt", "heiß", "mild", "cool"],
            answer: "kalt",
            explanation: "'Kalt' is the opposite of 'warm'."
        },
        {
            question: "Wähle das passende Wort: Das Wetter ist heute sehr ___.",
            options: ["schön", "hässlich", "warm", "trocken"],
            answer: "schön",
            explanation: "'Schön' means 'nice' and is a positive description."
        }
    ];
    


    let timeRemaining = 15 * 60; // 15 minutes in seconds

    function startQuiz() {
        const studentName = document.getElementById('studentName').value;
        if (!studentName) {
            alert('Bitte geben Sie Ihren Namen ein.');
            return;
        }
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('quiz-container').style.display = 'block';
        loadQuiz();
        startTimer();
    }

    function loadQuiz() {
        let quizHtml = '';
        questions.forEach((q, index) => {
            const colorClass = index % 3 === 0 ? 'saffron' : index % 3 === 1 ? 'white' : 'green';

            quizHtml += `
                <div class="question-box ${colorClass}">
                    <h3>Frage ${index + 1}: ${q.question}</h3>
                    ${q.options.map(option => `
                        <label>
                            <input type="radio" name="question${index}" value="${option}">
                            ${option}
                        </label><br>
                    `).join('')}
                </div>`;
        });

        document.getElementById('questions').innerHTML = quizHtml;
    }

    function startTimer() {
        const timerElement = document.getElementById('time');

        const countdown = setInterval(() => {
            if (timeRemaining <= 0) {
                clearInterval(countdown);
                submitQuiz(); // Auto-submit when time runs out
            } else {
                timeRemaining--;
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                timerElement.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
        }, 1000);
    }

    function submitQuiz() {
        correctAnswers = 0;
        let incorrectAnswers = 0;
        let unansweredQuestions = 0;

        questions.forEach((q, index) => {
            const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
            if (selectedOption) {
                if (selectedOption.value === q.answer) {
                    correctAnswers++;
                } else {
                    incorrectAnswers++;
                }
            } else {
                unansweredQuestions++;
            }
        });

        // Call the showResults function after calculating answers
        showResults(incorrectAnswers, unansweredQuestions);
    }

    // Show results function should be defined outside of submitQuiz
    function showResults(incorrectAnswers, unansweredQuestions) {
        document.getElementById('quiz-container').style.display = 'none';
        document.getElementById('results-container').style.display = 'block';

        const totalAttempted = totalQuestions - unansweredQuestions;
        const percentage = (correctAnswers / totalQuestions) * 100;
        const stars = calculateStars(correctAnswers);

        const resultsHtml = `
            <table class="results-table">
                <tr>
                    <th>Teilnehmer:</th>
                    <td>${document.getElementById('studentName').value}</td>
                </tr>
                <tr>
                    <th>Gesamtversuche:</th>
                    <td>${totalAttempted}</td>
                </tr>
                <tr>
                    <th>Korrekte Fragen:</th>
                    <td>${correctAnswers}</td>
                </tr>
                <tr>
                    <th>Falsche Fragen:</th>
                    <td>${incorrectAnswers}</td>
                </tr>
                <tr>
                    <th>Übersehene Fragen:</th>
                    <td>${unansweredQuestions}</td>
                </tr>
                <tr>
                    <th>Prozentsatz:</th>
                    <td>${percentage.toFixed(2)}%</td>
                </tr>
                <tr>
                    <th>Bewertung:</th>
                    <td class="star-rating">${stars}</td>
                </tr>
            </table>
        `;

        const explanationsHtml = questions.map((q, index) => {
            const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
            const userResponse = selectedOption ? selectedOption.value : 'Nicht beantwortet';
            const correctIcon = userResponse === q.answer ? '✅' : '❌';

            return `
                <div class="explanation-box ${index % 3 === 0 ? 'saffron' : index % 3 === 1 ? 'white' : 'green'}">
                    <h4>Erklärung für Frage ${index + 1}:</h4>
                    <p><strong>Ihre Antwort:</strong> ${correctIcon} ${userResponse}</p>
                    <p><strong>Korrekte Antwort:</strong> ${q.answer}</p>
                    <p>${q.explanation}</p>
                </div>
            `;
        }).join('');

        document.getElementById('results').innerHTML = resultsHtml;
        document.getElementById('explanations').innerHTML = explanationsHtml;
    }

    function calculateStars(correctAnswers) {
        const percentage = (correctAnswers / totalQuestions) * 100;
        if (percentage === 100) {
            return '⭐⭐⭐⭐⭐';
        } else if (percentage >= 80) {
            return '⭐⭐⭐⭐';
        } else if (percentage >= 60) {
            return '⭐⭐⭐';
        } else if (percentage >= 40) {
            return '⭐⭐';
        } else {
            return '⭐';
        }
    }

    function restartQuiz() {
        correctAnswers = 0;
        timeRemaining = 15 * 60; // Reset the timer
        document.getElementById('results-container').style.display = 'none';
        document.getElementById('start-screen').style.display = 'block';
        document.getElementById('studentName').value = '';
    }
    // Function to save the quiz
function saveQuiz() {
    const quizData = {
        date: new Date().toLocaleDateString(),
        studentName: document.getElementById('studentName').value,
        correctAnswers: correctAnswers,
        totalQuestions: totalQuestions,
        questions: questions
    };

    let pastQuizzes = JSON.parse(localStorage.getItem('pastQuizzes')) || [];
    pastQuizzes.push(quizData);
    localStorage.setItem('pastQuizzes', JSON.stringify(pastQuizzes));

    alert('Quiz gespeichert!');
}

// Function to load past quizzes and display them
function loadPastQuizzes() {
    const pastQuizzes = JSON.parse(localStorage.getItem('pastQuizzes')) || [];
    const quizzesContainer = document.getElementById('past-quizzes');
    
    if (pastQuizzes.length === 0) {
        quizzesContainer.innerHTML = '<p>Keine gespeicherten Quizzes gefunden.</p>';
        return;
    }

    const quizzesHtml = pastQuizzes.map((quiz, index) => `
        <div class="quiz-summary">
            <h4>Quiz vom ${quiz.date}</h4>
            <p>Teilnehmer: ${quiz.studentName}</p>
            <p>Korrekte Antworten: ${quiz.correctAnswers} von ${quiz.totalQuestions}</p>
        </div>
    `).join('');

    quizzesContainer.innerHTML = quizzesHtml;
}

// Call this function when the page loads
document.addEventListener('DOMContentLoaded', loadPastQuizzes);

</script>
</body>
</html>

